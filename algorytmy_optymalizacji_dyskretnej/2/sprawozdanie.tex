%TODO 4 pondpunkty ostatnie
\documentclass[15pt, a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{tikz}
\usepackage{adjustbox}
\usepackage{longtable}
\usepackage{graphicx}
\usepackage{amsfonts}
\usepackage{amsmath}
\title{Algorytmy Optymalizacji Dyskretnej}
\author{Felix Zieliński 272336}
\date{Lista 2}
\begin{document}
\maketitle

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 1

\noindent\textbf{Zadanie 1.} W tym zadaniu należało zminimalizowad koszty zakupu paliwa poprzez wyznaczenie planu zakupu i dostaw paliwa na lotniska.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( L_j \) - j-te lotnisko
    \item \( F_i \) - i-ta firma
    \item \( z_j \) - zapotrzebowanie j-tego lotniska
    \item \( p_i \) - podaż paliwa z i-tej firmy
    \item \( k_{ij} \) - koszt zakupu galonu paliwa od i-tej firmy przez j-te lotnisko
\end{itemize}

\noindent\textbf{Zmienne decezyjne:}\\

\(x_{ij}\) - ilość paliwa dostarczona przez i-tą firmę na j-te lotnisko.\\

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{ij} \geq 0 \) - ilość paliwa musi być nieujemna
    \item \(\sum_{i}x_{ij} = z_j\)  - suma dostaw do danego lotniska musi zaspokoić jego zapotrzebowanie 
    \item \(\sum_{j}x_{ij} \leq p_i \) - firma nie może dostarczyć więcej paliwa, niż sama produkuje
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Koszt wszystkich dostaw: \(min \sum_{i, j}x_{ij} * k_{ij} \)\\

\pagebreak

\noindent\textbf{Rozwiazanie:}\\ 

\begin{longtable}{|c|c|c|c|c|}
\hline
           & \textbf{Firma 1} & \textbf{Firma 2} & \textbf{Firma 3} & \textbf{Firma 4} \\
\hline
    \textbf{Lotnisko 1} & 0.0      & 110000.0 & 0.0 & 110000.0      \\
\hline
    \textbf{Lotnisko 2} & 165000.0 & 55000.0  & 0.0 & 220000.0    \\
\hline
    \textbf{Lotnisko 3} & 0.0      & 0.0      & 330000.0 & 330000.0 \\
\hline
    \textbf{Lotnisko 4} & 110000.0 & 0.0      & 330000.0 & 440000.0 \\
\hline
    \textbf{Suma} & 275000.0 & 165000.0 & 660000.0 & \\ \hline
\caption{Optymalne dostawy, w galonach}
\end{longtable}

\vspace{0.5cm}

\begin{enumerate}
    \item Minimalny łączny koszt dostaw wymaganych ilości paliwa wynosi \textbf{8525000} 
    \item Każda z firm dostarcza paliwo
    \item 1. oraz 3. firma wyczerpały możliwości swoich dostaw
\end{enumerate}

\vspace{0.5cm}

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 2

\noindent\textbf{Zadanie 2.} W tym zadaniu należało zmaksymalizować zysk zakładu poprzez wyznaczenie optymalnego tygodniowego planu placy.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( L_i \) - i-ty wyrób
    \item \( M_j \) - j-ta maszyna
    \item \( cp_{ij} \) - czas (w minutach na kilogram) obróbki i-tego wyroby na j-tej maszynie
    \item \( C_j \) - czas dostępności j-tej maszyny w minutach
    \item \( sp_i \) - cena sprzedaży i-tego wyrobu
    \item \( kp_j \) - koszt za minutę pracy j-tej maszyny
    \item \( km_{i} \) - koszt materiałowy za kilogram i-tego wyrobu
    \item \( z_{i} \) - maksymalny tygodniowy popyt na i-ty wyrób
\end{itemize}

\noindent\textbf{Zmienne decezyjne:}\\

\(x_{i}\) - liczba kilogramów wyprodukowanego i-tego wyrobu.\\

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{ij} \geq 0 \) - ilość wyprodukowanego wyrobu musi być nieujemna
    \item \(\sum_{i}x_{i} * cp_{ij} \leq C_j\)  - maszyny mają ograniczony czas pracy 
    \item \(x_{i} \leq z_i \) - nie ma sensu produkować więcej wyrobu, niż jest na niego popyt 
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Zysk, jako różnica między przychodem a kosztami zmiennymi:\\ \(max( x_{i} * ( \sum_{i}( sp_i - km_{i} ) - \sum_{j}(kp_j) * \sum_{i}(cp_{ij})  ))\)\\

\noindent\textbf{Rozwiazanie:}\\ 

W celu sprawniejszych obliczeń, dane z zadania zamieniam na minuty. 


\begin{longtable}{|c|c|c|c|}
\hline
& \textbf{Maszyna 1} &  \textbf{Maszyna 2} & \textbf{Maszyna 3} \\ 
\hline
\textbf{Produkt 1} & 625.0 & 1250.0 & 750.0  \\ 
\hline
\textbf{Produkt 2} & 300.0 & 600.0 & 400.0  \\ 
\hline
\textbf{Produkt 3} & 600.0 & 750.0 & 450.0  \\ 
\hline
\textbf{Produkt 4} & 2000.0 & 1000.0 & 500.0  \\ 
\hline
\caption{Czas na maszynę}
\end{longtable}


\begin{longtable}{|c|c|}
    \hline
    & \textbf{Kilogram wyrobu} \\ 
    \hline
    \textbf{Produkt 1} & 125.0 \\ 
    \hline
    \textbf{Produkt 2} & 100.0 \\ 
    \hline
    \textbf{Produkt 3} & 150.0 \\ 
    \hline
    \textbf{Produkt 4} & 500.0 \\ 
    \hline
\caption{Produkcja (w kilogramach) każdego z wyrobów}
\end{longtable}

\vspace {0.5cm}

Zysk wynosi \textbf{3632.5} dolarów.

\vspace{0.5cm}

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 3

\noindent\textbf{Zadanie 3.} W tym zadaniu należało zminimalizować łączny koszt produkcji w firmie poprzez wyznaczenie optymalnego planu produkcji oraz magazynowania.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( m_j \) - maksymalna produkcja towaru w j-tym okresie (w jednostkach)
    \item \( k_j \) - j-ty okres (w którym wytwarzane jest maksymalnie 100 jednostek towaru)
    \item \( c_j \) - koszt produkcji jednej jednostki towaru w j-tym okresie
    \item \( a_j \) - maksymalna wielkość (w jednostkach) opcjonalnej produkcji ponadwymiarowej w j-tym okresie
    \item \( o_j \) - koszt jednostkowy w j-tej opcjonalnej produkcji ponadwymiarowej
    \item \( d_j \) - zapotrzebowanie na towar w j-tym okresie
    \item \( s \) - maksymalna ilość jednostek możliwa do przechowania z jednego okresu na kolejny
    \item \( sm_j \) - stan magazynu na początku okresu
    \item \( km \) - koszt magazynowania za jednostkę 
    \item \( mp \) - początkowa ilość jednostek w magazynie
\end{itemize}

\noindent\textbf{Zmienne decezyjne:}

\begin{itemize}
    \item \( x_j \) - ilość jednostek wyprodukowanych w j-tym okresie
    \item \( y_j \) - ilość jednostek wyprodukowanych w j-tym okresie w produkcji opcjonalnej
    \item \( z_j \) - ilość jednostek do przechowania na koniec j-tego okresu
\end{itemize}

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{j} \geq 0 \) - ilość jednostek wyprodukowanych w j-tym okresie musi być nieujemna
    \item \(y_{j} \geq 0 \) - ilość jednostek wyprodukowanych w j-tym okresie w produkcji opcjonalnej musi być nieujemna
    \item \(z_{j} \geq 0 \) - ilość jednostek do przechowania na koniec j-tego okresu musi być nieujemna
    \item \( x_{j} \leq m_j \) - nie można wyprodukować jednostek ponad maksymalną produkcję towaru w j-tym okresie     
    \item \( y_{j} \leq a_j\) - nie można wyprodukować jednostek dodatkowych ponad maksymalną opcjonalną produkcję towaru w j-tym okresie     
    \item \( z_j \leq s \) - nie można przechowywać jednostek ponad maksymalną ilość jednostek możliwą do przechowania z jednego okresu na kolejny
    \item koszt produkcji jednostek opcjonalnych przewyższa koszt produkcji podstawowej, a więc nie ma potrzeby ograniczania wykorzystania wszystkich jednostek przed rozpoczęciem produkcji opcjonalnej
    \item \( sm_1 = mp \) - na początku pierwszego okresu stan magazynu jest równy stanowi początkowemu 
    \item \( s_K+1 = 0 \) - na koniec nie powinno zostać jednostek w magazynie
    \item \( x_j + y_j + z_j - d_j = z_{j+1} \) - zapotrzebowanie na towar musi zostać spełnione
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Koszt produkcji oraz magazynowania: \(min \sum_{j=1}^{K}(x_{j} * c_{j} + y_{j} * o_{j} + z_{j} * km)\)\\

\noindent\textbf{Rozwiazanie:}\\ 

\begin{longtable}{|c|c|c|c|}
    \hline
    & \textbf{Produkcja normalna} & \textbf{Produkcja dodatkowa} & \textbf{Stan magazynu} \\ 
    \hline
    \textbf{Period 1} & 100.0 & 15.0 & 15.0 \\ 
    \hline
    \textbf{Period 2} & 100.0 & 50.0 & 0.0 \\ 
    \hline
    \textbf{Period 3} & 100.0 & 0.0 & 70.0 \\ 
    \hline
    \textbf{Period 4} & 100.0 & 50.0 & 45.0 \\ 
    \hline
    \textbf{Period 5} & & & 0.0 \\ 
    \hline
\caption{Produkcja (w kilogramach) każdego z wyrobów}
\end{longtable}

\begin{enumerate}
    \item Minimalny łączny koszt produkcji oraz magazynowania wynosi \textbf{3842500}
    \item Firma musi zaplanować produkcję ponadwymiarową w okresach: 1., 2., 4.
    \item Możliwości magazynowania są wyczerpane w okresie 2. na 3.
\end{enumerate}

\vspace{0.5cm}

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 4

\noindent\textbf{Zadanie 4.} W tym zadaniu należało zminimalizować koszt podróży z miasta \(i^\circ\) do miasta \(j^\circ\) poprzez znalezienie połączenia, które nie przekracza z góry zadanego czasu.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( T \) - zadany czas T, którego całkowity czas przejazdu nie może przekroczyć
    \item \( G = (N, A) \) - skierowany graf połączeń między miastami
    \item \( N \) - zbiór miast
    \item \( A \) - zbiór połączeń
    \item \( c_{ij} \) - koszt przejazdu z miasta i do j
    \item \( t_{ij} \) - czas przejazdu z miasta i do j
    \item \( i^\circ \) - miasto początkowe
    \item \( j^\circ \) - miasto końcowe 
\end{itemize} 

\noindent\textbf{Zmienne decezyjne:}\\

\noindent \(x_{ij}\) - zmienna boolowska oznaczająca, czy dane połączenie między miastem i oraz j jest używane.\\

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{ij} \in \{0, 1\} \)
    \item \(\sum_{j}x_{i^\circ j} = 1 \) - należy zacząć ścieżkę w mieście początkowym 
    \item \(\sum_{j}x_{ij^\circ} = 1 \) - należy zakończyć ścieżkę w mieście końcowym 
    \item \(\sum_{j}x_{ij} * t_{ij} \leq T \) - nie można przekroczyć maksymalnego czasu przejazdu
    \item \(\sum x_{kj} = \sum x_{ik} \) - każde miasto (nie licząc miasta początkowego oraz końcowego) musi mieć tyle samo połączeń wchodzących, co wychodzących
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Koszt przejazdu: \(min \sum_{i, j}c_{ij} * x_{ij} \)\\

\noindent\textbf{Rozwiazanie:}\\ 

\textbf{egzemplarz prowadzącego} 

\begin{longtable}{|c|c|c|c|}
    \hline
    \textbf{Miasto i} & \textbf{Miasto j} & \textbf{Koszt} & \textbf{Czas} \\ 
    \hline
    1 & 2 & 3.0 & 4.0 \\ 
    \hline
    2 & 3 & 2.0 & 3.0 \\ 
    \hline
    3 & 5 & 2.0 & 2.0 \\ 
    \hline
    5 & 7 & 3.0 & 3.0 \\ 
    \hline
    7 & 9 & 1.0 & 1.0 \\ 
    \hline
    9 & 10 & 2.0 & 2.0 \\
    \hline
\caption{Optymalne połączenia}
\end{longtable}

Łączny czas wyniósł 15, a koszt - 13.\\

\textbf{egzemplarz własny}\\

Dane: 

\begin{itemize}
    \item \(N\) - 10
    \item \(i^{\circ}\) - 1
    \item \(j^{\circ}\) - 5
    \item \(T \) - 9
    \item krawędzie -  [1, 2, 10, 2],
    [2, 3, 15, 3],
    [3, 4, 20, 5],
    [4, 5, 10, 2],
    [1, 6, 25, 4],
    [6, 7, 15, 3],
    [7, 5, 10, 2],
    [1, 8, 30, 6],
    [8, 9, 20, 3],
    [9, 10, 25, 4],
    [10, 5, 15, 3]
\end{itemize}

\begin{longtable}{|c|c|c|c|}
    \hline
    \textbf{Miasto i} & \textbf{Miasto j} & \textbf{Koszt} & \textbf{Czas} \\ 
    \hline
    1 & 6 & 25.0 & 4.0 \\ 
    \hline
    6 & 7 & 15.0 & 3.0 \\ 
    \hline
    7 & 5 & 10.0 & 2.0 \\ 
    \hline
\caption{Optymalne połączenia - egzemplarz własny}
\end{longtable}

Łączny czas wyniósł 9, a koszt - 50.\\

Ograniczenie na całkowitoliczbowość zmiennych decyzyjnych jest potrzebne. Gdy optymalne rozwiązanie nie będzie spełniać ograniczeń czasowych, zmienne decyzyjne będą przyjmować wartości niecałkowite. Poniższe dane spowodują pojawienie się takich rozwiazań:

\begin{itemize}
    \item \(N\) - 11
    \item \(i^{\circ}\) - 2
    \item \(j^{\circ}\) - 11
    \item \(T \) - 6
    \item krawędzie -  [2, 3, 1, 6],
    [3, 11, 1, 2],
    [2, 11, 1, 9]
\end{itemize}

Koszt po usunięciu ograniczeń: \textbf{1.75}\\

W przypadku usunięciu ograniczenia na czasy przejazdu w modelu bez ograniczeń, otrzymane połączenie nie zawsze jest akceptowalne, bo solver może wyznaczyć rozwiązanie bez uzwględnienia maksymalnego czasu.


\vspace{0.5cm}

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 5

\noindent\textbf{Zadanie 5.} W tym zadaniu należało zminimalizować całkowitą liczbę radiowozów poprzez wyznaczenie przydziału radiowozów spełniających zadane wymagania.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( p_i \) - i-ta dzielnica
    \item \( z_j \) - j-ta zmiana
    \item \( min_{ij} \) - minimalna liczba radiowozów dla i-tej dzielnicy i j-tej zmiany
    \item \( max_{ij} \) - maksymalna liczba radiowozów dla i-tej dzielnicy i j-tej zmiany
    \item \( zmin_{j} \) - minimalna liczba radiowozów dla j-tej zmiany 
    \item \( dmin_{i} \) - minimalna liczba radiowozów dla i-tej dzielnicy
\end{itemize}

\noindent\textbf{Zmienne decezyjne:}\\

\(x_{ij}\) - liczba radiowozów przydzielona dzielnicy i podczas zmiany j\\

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{ij} \geq 0 \) - liczba radiowozów musi być nieujemna
    \item \( x_{ij} \leq max_{ij} \) - liczba radiowozów musi być mniejsza od maksymalnej
    \item \( x_{ij} \geq min_{ij} \) - liczba radiowozów musi być większa od minimalnej
    \item \(\sum_{i}x_{ij} \geq zmin_j \) - liczba radiowozów musi spełniać minimalną liczbę dla j-tej zmiany
    \item \(\sum_{j}x_{ij} \geq dmin_i \) - liczba radiowozów musi spełniać minimalną liczbę dla i-tej dzielnicy
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Liczba radiowozów: \(min \sum_{i}\sum_{j}x_{ij} \)\\

\noindent\textbf{Rozwiazanie:}\\ 

\begin{longtable}{|c|c|c|c|}
    \hline
    & \textbf{Zmiana 1} & \textbf{Zmiana 2} & \textbf{Zmiana 3} \\ 
    \hline
    \textbf{Dzielnica 1} & 2.0 & 5.0 & 3.0 \\ 
    \hline
    \textbf{Dzielnica 2} & 3.0 & 7.0 & 5.0 \\ 
    \hline
    \textbf{Dzielnica 3} & 5.0 & 8.0 & 10.0 \\ 
    \hline
\caption{Optymalne rozłożenie radiowozów}
\end{longtable}

Całkowita liczba wykorzystanych radiowozów wynosi 48.

\vspace{0.5cm}

\noindent\hrulefill

\vspace{0.5cm}

% zadanie 6

\noindent\textbf{Zadanie 6.} W tym zadaniu należało zminimalizować liczbę kamer poprzez odpowiednie ich rozmieszczenie.\\

\noindent\textbf{Uogólnione parametry z zadania:}

\begin{itemize}
    \item \( m \) - szerokość terenu (w kwadratach)
    \item \( n \) - wysokość terenu (w kwadratach)
    \item \( k \) - zasięg kamery (w kwadratach)
    \item \( r_{ij} \) - zmienna boolowska, rozmieszczenie kamer
\end{itemize}

\noindent\textbf{Zmienne decezyjne:}\\

\(x_{ij}\) - zmienna boolowska oznaczająca, czy w kwadracie ij umieszczona jest kamera.\\

\noindent\textbf{Ograniczenia:}

\begin{itemize}
    \item \(x_{ij} \in \{0, 1\} \)
    \item \(x_{ij} + r_{ij} \leq 1 \) - nie można postawić kamery tam, gdzie jest kontener
    \item \(\sum_{l = max(i-k, 1)}^{min(i+k,m)}x_{lj} + \sum_{s = max(j-k, 1)}^{min(i+k,m)}x_{is} \geq 1 \)  - każdy kontener musi być obserwowany
\end{itemize}

\noindent\textbf{Funkcja celu:}\\

Liczba kamer: \(min \sum_{i}\sum_{j}x_{ij} \)\\

\noindent\textbf{Rozwiazanie:}\\ 

\textbf{egzemplarz 1:}


\[
\begin{bmatrix}
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
1 & 0 & 0 & 1 & 0 \\
0 & 1 & 1 & 0 & 1 \\
1 & 0 & 1 & 0 & 1
\end{bmatrix}
\]

Zasięg = 2 \\

Rozwiązanie:

\[
\begin{bmatrix}
1 & -1 & 1 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
1 & 0 & -1 & 1 & -1 \\
-1 & 1 & 1 & 0 & 1 \\
1 & 0 & 1 & 0 & 1
\end{bmatrix}
\]

Postawiono 4 kamery. \\


\textbf{egzemplarz 2:}

\[
\begin{bmatrix}
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
1 & 0 & 0 & 1 & 0 \\
0 & 1 & 1 & 0 & 1 \\
1 & 0 & 1 & 0 & 1
\end{bmatrix}
\]

Zasięg = 4 \\

Rozwiązanie:

\[
\begin{bmatrix}
1 & 0 & 1 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 & 0 \\
1 & 0 & -1 & 1 & 0 \\
-1 & 1 & 1 & 0 & 1 \\
1 & -1 & 1 & 0 & 1
\end{bmatrix}
\]

Postawiono 3 kamery.

\vspace{0.5cm}





\end{document}
